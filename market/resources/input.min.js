ccm.component({name:"input",config:{style:[ccm.load,"https://kaul.inf.h-brs.de/ccm/css/input.css"],store:[ccm.store,"https://kaul.inf.h-brs.de/ccm/jsonp/input.json"],key:"demo",submit:function(e){console.log(e)}},Instance:function(){var e=this;this.render=function(n){var t=ccm.helper.element(e);e.store.get(e.key,function(a){function i(n){function t(e){if(void 0!==e)switch(n.input){case"radio":case"checkbox":delete n.checked;for(var t=0;t<n.values.length;t++)delete n.values[t].checked,(n.values[t].value||n.values[t].caption===e)&&(n.values[t].checked=!0);break;case"select":for(var t=0;t<n.options.length;t++)delete n.options[t].selected,n.options[t].value===e&&(n.options[t].selected=!0);break;case"textarea":n.inner=e;break;default:n.value=e}}e.data&&t(e.data[n.name]);var a=n.label||n.name;switch(delete n.label,n.input){case"select":case"textarea":n.tag=n.input;break;default:n.tag="input",n.type=n.input}if("radio"===n.input){for(var i=0;i<n.values.length;i++)n.values[i].tag=n.tag,n.values[i].type=n.type,n.values[i].name=n.name,n.values[i]={tag:"label",inner:[n.values[i],{tag:"span",inner:"&nbsp;"},{tag:"span",inner:n.values[i].caption||n.values[i].value},{tag:"br"}]},delete n.values[i].inner[0].caption;n=n.values}if("checkbox"===n.input)if(n.values){for(var i=0;i<n.values.length;i++)n.values[i].tag=n.tag,n.values[i].type=n.type,n.values[i].value=n.values[i].value||n.values[i].name,n.values[i]={tag:"label",inner:[n.values[i],{tag:"span",inner:"&nbsp;"},{tag:"span",inner:n.values[i].caption||n.values[i].value},{tag:"span",inner:"&nbsp;&nbsp;&nbsp;"}]},delete n.values[i].inner[0].caption;n=n.values}else n.id=e.index+"-"+n.name,a={tag:"label","for":n.id,inner:a},n=[n,{tag:"span",inner:"&nbsp;"},{tag:"span",inner:n.caption}],delete n[0].caption;if("select"===n.input){n.inner=n.options,delete n.options;for(var i=0;i<n.inner.length;i++)n.inner[i].tag="option",n.inner[i].inner=n.inner[i].caption||n.inner[i].value,delete n.inner[i].caption}"range"===n.input&&(n.oninput=function(){jQuery(this).next().next().text(jQuery(this).val())},n=[n,{tag:"span",inner:"&nbsp;"},{tag:"span",inner:n.value||(parseInt(n.min)||0)+(parseInt(n.max)||100)/2}]),delete n.input,s[0].inner.push({tag:"tr",inner:[{tag:"td",inner:a},{tag:"td",inner:n}]})}if(null===a)return e.store.set({key:e.key},function(n){e.key=n.key,t.remove(),e.render()});var s=[{tag:"table",inner:[]}];if(a.inputs)if(Array.isArray(a.inputs))for(var r=0;r<a.inputs.length;r++)i(a.inputs[r]);else i(a.inputs);if(a.fieldset&&(s={tag:"fieldset",inner:s},"string"==typeof a.fieldset&&s.inner.unshift({tag:"legend",inner:a.fieldset})),a.form&&(a.form===!0&&(a.form={button:!0}),s={tag:"form",onsubmit:a.form.onsubmit,inner:s},a.form.button)){var l={tag:"input",type:"submit",value:a.form.button};l.value===!0&&delete l.value,a.fieldset?s.inner.inner.push(l):s.inner.push(l)}t.html(ccm.helper.html(s,function(){return e.submit(ccm.helper.formData(jQuery(this))),!1})),n&&n()})}}});