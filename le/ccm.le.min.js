(function(){var ccm_version="9.0.0";var ccm_url="https://akless.github.io/ccm/ccm.min.js";var component_name="le";var component_obj={name:component_name,config:{content:["ccm.component","https://akless.github.io/ccm-components/content/versions/ccm.content-2.0.0.min.js"]},Instance:function(){var self=this;var my;this.init=function(callback){if(!self.inner)self.inner=document.createDocumentFragment();if(typeof self.inner==="string")self.inner=document.createRange().createContextualFragment(self.inner);replacements(self.inner);delete self.video_poster;delete self.link_prefix;callback();function replacements(node){self.ccm.helper.makeIterable(node.children).map(function(child){var figure;switch(child.tagName){case"CCM-LE-TOPIC":var topic=document.createElement("span");topic.classList.add("topic");topic.innerHTML=self.topic;node.replaceChild(topic,child);break;case"CCM-LE-AUDIO":figure=document.createElement("figure");figure.innerHTML='<audio controls><source src="'+child.getAttribute("src")+'">';node.replaceChild(figure,child);break;case"CCM-LE-VIDEO":figure=document.createElement("figure");figure.innerHTML='<video controls poster="'+self.video_poster+'"><source src="'+child.getAttribute("src")+'" type="video/mp4">';node.replaceChild(figure,child);break;case"CCM-LE-IMG":figure=document.createElement("figure");figure.innerHTML='<img src="'+child.getAttribute("src")+'">';node.replaceChild(figure,child);break;case"A":child.setAttribute("target","_blank");if(!child.innerHTML)child.innerHTML=child.getAttribute("href");break;case"CCM-LE-LINK":var p=document.createElement("p");var href=child.getAttribute("href");p.innerHTML=self.link_prefix+' <a target="_blank" href="'+href+'">'+(child.innerHTML?child.innerHTML:href)+"</a>";node.replaceChild(p,child);break;default:replacements(child)}})}};this.ready=function(callback){my=self.ccm.helper.privatize(self);var header=document.createElement("header");if(my.logo)header.innerHTML+='<img src="'+my.logo+'">';if(my.topic)header.innerHTML+="<h1>"+(my.topic_prefix?'<span class="prefix">'+my.topic_prefix+"</span><br>":"")+'<span class="topic">'+my.topic+"</span></h1>";if(header.innerHTML)self.ccm.helper.prepend(my.inner,header);delete self.topic;delete my.logo;delete my.topic_prefix;delete my.topic;if(my.author){var footer=document.createElement("footer");if(my.english_licence)footer.innerHTML='<hr><p xmlns:dct="https://purl.org/dc/terms/"><a target="_blank" rel="license" href="https://creativecommons.org/publicdomain/zero/1.0/"><img src="http://i.creativecommons.org/p/zero/1.0/88x31.png" style="border-style: none;" alt="CC0"></a><br>To the extent possible under law, <span resource="[_:publisher]" rel="dct:publisher"><span property="dct:title">'+my.author+"</span></span> has waived all copyright and related or neighboring rights to this work.</p>";else footer.innerHTML='<hr><p xmlns:dct="https://purl.org/dc/terms/"><a target="_blank" rel="license" href="https://creativecommons.org/publicdomain/zero/1.0/"><img src="https://i.creativecommons.org/p/zero/1.0/88x31.png" style="border-style: none;" alt="CC0"></a><br>Soweit unter den gesetzlichen Voraussetzungen möglich hat <span resource="[_:publisher]" rel="dct:publisher"><span property="dct:title">'+my.author+"</span></span> sämtliche Urheber- und Verwertungsrechte für dieses Werk abgetreten.</p>";my.inner.appendChild(footer);delete my.author;delete my.english_licence}var main_elem=document.createElement("div");main_elem.id="main";main_elem.innerHTML=my.inner.innerHTML;self.ccm.helper.setContent(my.inner,main_elem);my.content.instance({root:self.element,inner:my.inner},function(instance){my.content=instance;callback()})};this.start=function(callback){my.content.start(callback)}}};var namespace=window.ccm&&ccm.components[component_name];if(namespace){if(namespace.ccm_version)ccm_version=namespace.ccm_version;if(namespace.ccm_url)ccm_url=namespace.ccm_url}if(!window.ccm||!ccm[ccm_version]){var tag=document.createElement("script");document.head.appendChild(tag);tag.onload=register;tag.src=ccm_url}else register();function register(){ccm[ccm_version].component(component_obj)}})();