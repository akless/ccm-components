{var component={name:"highchart",ccm:"https://akless.github.io/ccm/ccm.js",config:{html:{id:"main",inner:[{id:"switcher"},{id:"chart"}]},libs:["ccm.load","https://code.highcharts.com/highcharts.js"],chart:"line"},Instance:function(){const self=this;let my;let $;this.ready=(callback=>{$=self.ccm.helper;my=$.privatize(self);if(self.logger)self.logger.log("ready",my);callback()});this.start=(callback=>{$.dataset(my.data,data=>{my.data=data;self.logger&&self.logger.log("start",{chart:my.chart,data:data});const main_elem=$.html(my.html);const chart_elem=main_elem.querySelector("#chart");$.setContent(main_elem.querySelector("#switcher"),getSwitcher());Highcharts.chart(chart_elem,getChartSettings());$.setContent(self.element,main_elem);callback&&callback();function getSwitcher(){const list=getCompatibilityList();if(!list||list.length<2||!my.switcher)return $.removeElement(main_elem.querySelector("#switcher"));const switcher=$.html({tag:"select",onchange:()=>{my.chart=switcher.value;self.start();self.logger&&self.logger.log("switch",my.chart)}});list.map(chart=>switcher.appendChild($.html({tag:"option",value:chart,inner:chart,selected:chart===my.chart})));return switcher;function getCompatibilityList(){const compatibility_lists=[["line","area","bar","column"],["pie","pie-semi-circle"]];for(let i=0;i<compatibility_lists.length;i++)for(let j=0;j<compatibility_lists[i].length;j++)if(compatibility_lists[i][j]===my.chart)return compatibility_lists[i]}}function getChartSettings(){let style,settings={};if(my.chart)switch(my.chart){case"line":$.integrate({yAxis:{title:{text:my.y_title}},legend:{layout:"vertical",align:"right",verticalAlign:"middle"},plotOptions:{series:{label:{connectorAllowed:false},pointStart:my.point_start}},series:my.data,responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}},settings);style="min-width: 310px; max-width: 800px; height: 400px; margin: 0 auto";break;case"area":$.integrate({yAxis:{title:{text:my.y_title}},plotOptions:{area:{pointStart:my.point_start,marker:{enabled:false,symbol:"circle",radius:2,states:{hover:{enabled:true}}}}},series:my.data},settings);style="min-width: 310px; height: 400px; margin: 0 auto";break;case"bar":$.integrate({xAxis:{categories:my.categories},yAxis:{min:0,title:{text:my.y_title,align:"high"},labels:{overflow:"justify"}},plotOptions:{bar:{dataLabels:{enabled:true}}},legend:{layout:"vertical",align:"right",verticalAlign:"top",x:-40,y:80,floating:true,borderWidth:1,backgroundColor:Highcharts.theme&&Highcharts.theme.legendBackgroundColor||"#FFFFFF",shadow:true},credits:{enabled:false},series:my.data},settings);style="min-width: 310px; max-width: 800px; height: 400px; margin: 0 auto";break;case"column":$.integrate({xAxis:{categories:my.categories,crosshair:true},yAxis:{min:0,title:{text:my.y_title}},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:my.data},settings);style="min-width: 310px; height: 400px; margin: 0 auto";break;case"pie":$.integrate({plotOptions:{pie:{allowPointSelect:true,cursor:"pointer",dataLabels:{enabled:true,format:my.data_label,style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}}}},series:[{name:my.tooltip_label,colorByPoint:true,data:my.data}]},settings);style="min-width: 310px; height: 400px; max-width: 600px; margin: 0 auto";break;case"pie-semi-circle":$.integrate({chart:{plotBackgroundColor:null,plotBorderWidth:0,plotShadow:false},title:{text:my.title,align:"center",verticalAlign:"middle",y:40},plotOptions:{pie:{dataLabels:{enabled:true,distance:-50,style:{fontWeight:"bold",color:"white"}},startAngle:-90,endAngle:90,center:["50%","75%"]}},series:[{type:"pie",name:my.tooltip_label,innerSize:"50%",data:my.data}]},settings);style="min-width: 310px; height: 400px; max-width: 600px; margin: 0 auto";break}if(my.chart&&!settings.chart)settings.chart={type:my.chart};if(my.title&&!settings.title)settings.title={text:my.title};if(my.subtitle&&!settings.subtitle)settings.subtitle={text:my.subtitle};if(my.tooltip&&!settings.tooltip)settings.tooltip={pointFormat:my.tooltip};if(style&&!my.no_style)chart_elem.style=style;if(my.settings)$.integrate($.toDotNotation($.solveDotNotation($.clone(my.settings))),settings);return settings}})})}};function p(){window.ccm[v].component(component)}const f="ccm."+component.name+(component.version?"-"+component.version.join("."):"")+".js";if(window.ccm&&null===window.ccm.files[f])window.ccm.files[f]=component;else{const n=window.ccm&&window.ccm.components[component.name];n&&n.ccm&&(component.ccm=n.ccm),"string"==typeof component.ccm&&(component.ccm={url:component.ccm});var v=component.ccm.url.split("/").pop().split("-");if(v.length>1?(v=v[1].split("."),v.pop(),"min"===v[v.length-1]&&v.pop(),v=v.join(".")):v="latest",window.ccm&&window.ccm[v])p();else{const e=document.createElement("script");document.head.appendChild(e),component.ccm.integrity&&e.setAttribute("integrity",component.ccm.integrity),component.ccm.crossorigin&&e.setAttribute("crossorigin",component.ccm.crossorigin),e.onload=function(){p(),document.head.removeChild(e)},e.src=component.ccm.url}}}